# 更改日志

## 7.31

修改管线接口，使渲染能够进入渲染循环中， 且能够完成简单的变换。

设置着色器类，能够通过继承自定义顶点着色器和片段着色器。（待优化）

矩阵能够相乘，注意由于是列向量，矩阵应该从右往左才是能够被列向量使用的顺序。（待优化）

数学库确实惨不忍睹，凑合着用吧，之后再重构一下。

## 8.02

重构了数学库，重载了部分常用运算符。

数学库中统一了使用数据的接口，[]运算符。能够将2d，3d向量求模和归一化。能够将向量（列向量）正确的与矩阵相乘（不足之处在于列向量虽然被表示为四行一列矩阵形式，但是其数据接口不够统一，向量相当于一维数组，而矩阵确实二维数组，在两者相乘时，内部实现有所区别，未能统一）。

修改Shader类，使其能够正确初始化model矩阵和view矩阵，单位矩阵初始化一般使用如下表示：

```C++
krender::math::mat4 test(1.0f);
```
而默认的初始化是全部设为0。
 
## 8.04

重构了一下渲染过程，使得能够利用索引进行特定的渲染算法，如三角形的渲染，线的渲染，四边形的渲染等等(目前仅添加了三角形的渲染)。

可能涉及到的三角形索引的算法：[三角形索引朝向统一](https://www.nowcoder.com/questionTerminal/b92d1fcdb1364573b17b1464019e001c?f=discussion)

## 8.10

要完成的是透视除法（裁剪还得花大功夫）， 标准设备坐标的映射，摄像机矩阵的设置。接下来可以进行透视投影矩阵的编写，或者是摄像机的移动等操作。

## 8.17

将片段着色器中三角形设置和遍历的功能分离出来，以策略的模式去指定，目的是更细粒度的追求例如四边形光栅化的效果。同时传入片段着色器进行颜色的计算，真正意义上实现了分离。
